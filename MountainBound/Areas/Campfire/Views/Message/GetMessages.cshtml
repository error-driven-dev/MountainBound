@model Topic

@Model.Heading
@{
    ViewData["Title"] = "Topic Posts";
}

<div class="table-responsive">
    <table class="campfire-tbl table table-striped table-bordered table-md">
        <thead>
            <tr><th>Message Posted in @Model.Heading</th><th>Author</th><th>Date</th></tr>
        </thead>
        @if (Model.Messages.Count == 0)
        {
            <tr><td colspan="3">No Messages posted yet</td></tr>

        }
        else
        {
            foreach (var msg in Model.Messages)
            {
                <tr>
                    <td>
                        <a asp-action="GetReplies" asp-controller="Message" asp-route-id="@msg.MessageId">@msg.Heading</a>

                    <td>@msg.Username</td>
                    <td> @msg.CreatedAt.ToString("g")</td>
                </tr>
            }
        }
    </table>
</div>
<a class="btn btn-warning" asp-action="CreateMessage" asp-route-id="@Model.TopicId" asp-route-topic="@Model.Heading">Post a New Message in "@Model.Heading"</a>
